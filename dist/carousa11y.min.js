var Carousa11y=function(t){var e={};function s(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e),s.d(e,"default",function(){return n});s(1),s(3);function o(t,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var n=function(){function t(e,s){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.autoAdvanceTime,i=void 0===a?5e3:a,r=n.transitionTime,c=void 0===r?300:r,u=n.autoCreateControls,l=void 0===u?{}:u;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e instanceof HTMLElement!=!0)throw new Error("carouselRoot must be an HTMLElement.");if(s instanceof Array!=!0||s.length<2)throw new Error("carouselSlides must be an array with at least 2 HTMLElements.");(s.forEach(function(t){if(t instanceof HTMLElement!=!0)throw new Error("carouselSlides array must contain only HTMLElements. carouselSlides[".concat(index,"] failed this test."))}),this.carouselRoot=e,this.carouselSlides=s,this.autoCreateControls=l,this.autoAdvanceTime=i,this.transitionTime=c,this._playing=0!==this.autoAdvanceTime,this._currentSlideIndex=0,this._autoAdvanceTimer,this.carouselSlides[this.currentSlideIndex].classList.add("s-carousa11y__slide--current"),this.carouselSlides[this.nextSlideIndex].classList.add("s-carousa11y__slide--next"),this.carouselSlides[this.previousSlideIndex].classList.add("s-carousa11y__slide--previous"),!1!==this.autoCreateControls.announceElement&&this.carouselRoot.appendChild(this._createAnnounceElement()),!1!==this.autoCreateControls.prevNextButtons&&(this.carouselRoot.appendChild(this._createPrevNextControls()),this.carouselRoot.querySelector("#carousa11yNextButton").addEventListener("click",function(){o.goToNextSlide(),o.stop(!1)}),this.carouselRoot.querySelector("#carousa11yPrevButton").addEventListener("click",function(){o.goToPreviousSlide(),o.stop(!1)})),!1!==this.autoCreateControls.playStopButton&&(this.carouselRoot.appendChild(this._createPlayStopButton(this._playing)),this.carouselRoot.querySelector("#carousa11yPlayStopButton").addEventListener("click",function(){o.togglePlay()}),this.carouselRoot.addEventListener("carousa11yUpdate",function(){o._setPlayStopButtonState()})),!1!==this.autoCreateControls.slideButtons)&&(this.carouselRoot.appendChild(this._createGoToSlideControls(this.carouselSlides.length)),[].slice.call(document.getElementsByClassName("c-carousa11y__button--go-to-slide")).forEach(function(t){t.addEventListener("click",function(t){o.goToSlide(t.currentTarget.dataset.slideButton,!0),o.stop(!1)})}),this._setCurrentControl(this._currentSlideIndex));this._playing&&this._autoAdvance()}return function(t,e,s){e&&o(t.prototype,e),s&&o(t,s)}(t,[{key:"goToNextSlide",value:function(){this._goToSlide(this.nextSlideIndex,!1,!0)}},{key:"goToPreviousSlide",value:function(){this._goToSlide(this.previousSlideIndex,!1,!1)}},{key:"goToSlide",value:function(t,e,s){this._goToSlide(t-1,e,s)}},{key:"play",value:function(){0!==this.autoAdvanceTime&&(this._playing=!0,this._autoAdvance()),this.goToNextSlide()}},{key:"stop",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._playing&&this._setAnnounceMessage("Playback stopped"),this._playing=!1,clearInterval(this._autoAdvanceTimer),t&&this._dispatchUpdateEvent()}},{key:"togglePlay",value:function(){this._playing?this.stop():this.play()}},{key:"_autoAdvance",value:function(){var t=this;if(this.autoAdvanceTime<=0)throw new Error("_autoAdvance was called with timeout <= 0");this._playing=!0,clearInterval(this._autoAdvanceTimer),this._autoAdvanceTimer=setInterval(function(){t.goToNextSlide()},this.autoAdvanceTime)}},{key:"_setAnnounceMessage",value:function(t){if("string"!=typeof t)throw new Error("_announceMessage must be called with a string.");!1!==this.autoCreateControls.announceElement&&(this.carouselRoot.querySelector("#carousa11yAnnounceElement").innerHTML=t)}},{key:"_dispatchUpdateEvent",value:function(){var t={playing:this._playing,currentSlide:this.currentSlide,currentSlideIndex:this.currentSlideIndex},e=new CustomEvent("carousa11yUpdate",{detail:t});this.carouselRoot.dispatchEvent(e)}},{key:"_setPlayStopButtonState",value:function(){if(!1!==this.autoCreateControls.playStopButton){var t=this.carouselRoot.querySelector("#carousa11yPlayStopButton");this._playing?(t.setAttribute("aria-pressed","true"),t.classList.remove("s-carousa11y__button--stopped"),t.classList.add("s-carousa11y__button--playing")):(t.setAttribute("aria-pressed","false"),t.classList.remove("s-carousa11y__button--playing"),t.classList.add("s-carousa11y__button--stopped"))}}},{key:"_goToSlide",value:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t>this.currentSlideIndex;if(t>=this.carouselSlides.length||t<0)throw new Error("invalid slide index: ".concat(t));if(t!==this.currentSlideIndex){var n=this.carouselSlides[this.previousSlideIndex],a=this.carouselSlides[this.nextSlideIndex],i=this.carouselSlides[this._currentSlideIndex];this._currentSlideIndex=t;var r=this.carouselSlides[t],c=this.carouselSlides[this.nextSlideIndex],u=this.carouselSlides[this.previousSlideIndex];r.classList.add("u-transitionduration--0"),o?(r.classList.add("s-carousa11y__slide--next"),r.classList.remove("s-carousa11y__slide--previous")):(r.classList.add("s-carousa11y__slide--previous"),r.classList.remove("s-carousa11y__slide--next")),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){r.classList.remove("u-transitionduration--0"),r.classList.add("s-carousa11y__slide--current"),i.classList.remove("s-carousa11y__slide--current"),setTimeout(function(){e._setCurrentControl(t),i.setAttribute("aria-hidden","true"),r.removeAttribute("aria-hidden"),e._dispatchUpdateEvent(),e._setAnnounceMessage("Slide ".concat(e.currentSlide," of ").concat(e.carouselSlides.length)),r.classList.remove("s-carousa11y__slide--next"),r.classList.remove("s-carousa11y__slide--previous"),n.classList.remove("s-carousa11y__slide--previous"),u.classList.add("s-carousa11y__slide--previous"),a.classList.remove("s-carousa11y__slide--next"),c.classList.add("s-carousa11y__slide--next"),s&&(r.setAttribute("tabindex","-1"),r.focus())},e.transitionTime)})})}}},{key:"_setCurrentControl",value:function(t){[].slice.call(this.carouselRoot.querySelectorAll("button[data-slide-button]")).forEach(function(e,s){s===t?(e.setAttribute("aria-current","true"),e.classList.add("s-carousa11y__button--current")):(e.removeAttribute("aria-current"),e.classList.remove("s-carousa11y__button--current"))})}},{key:"_createAnnounceElement",value:function(){var t=document.createElement("div");return t.id="carousa11yAnnounceElement",t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.classList.add("c-carousa11y__announce"),t.classList.add("u-display--screenreader-only"),t}},{key:"_createPrevNextControls",value:function(){var t=document.createElement("ul");return t.classList.add("c-carousa11y__controls"),t.classList.add("c-carousa11y__controls--prev-next"),t.innerHTML="<li class='c-carousa11y__controls-item c-carousa11y__controls-item--prev'><button id='carousa11yPrevButton' class='c-carousa11y__button c-carousa11y__button--prev'><span class='u-display--screenreader-only'>Go to previous slide</span>\x3c!-- Zondicons by Steve Schroger (modified) - http://www.zondicons.com/ --\x3e<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' class='c-carousa11y__button-icon' aria-hidden='true' role='presentation'><path d='M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z'/></svg></button></li><li class='c-carousa11y__controls-item c-carousa11y__controls-item--next'><button id='carousa11yNextButton' class='c-carousa11y__button c-carousa11y__button--next'><span class='u-display--screenreader-only'>Go to next slide</span>\x3c!-- Zondicons by Steve Schroger (modified) - http://www.zondicons.com/ --\x3e<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' class='c-carousa11y__button-icon' aria-hidden='true' role='presentation'><path d='M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z'/></svg></button></li>",t}},{key:"_createPlayStopButton",value:function(t){var e=document.createElement("button");return e.setAttribute("id","carousa11yPlayStopButton"),e.setAttribute("aria-label","Play"),e.setAttribute("aria-pressed",t?"true":"false"),e.dataset.state=!0===t?"playing":"stopped",e.className="c-carousa11y__button c-carousa11y__button--play-stop ".concat(t?"s-carousa11y__button--playing":"s-carousa11y__button--stopped"),e.innerHTML='\x3c!-- Zondicons by Steve Shroger (modified) - http://www.zondicons.com/ --\x3e<svg xmlns="http://www.w3.org/2000/svg" viewBox="-5 -5 30 30" class="c-carousa11y__button-icon c-carousa11y__button-icon--play" aria-hidden="true" role="presentation"><path class="c-carousa11y__button-icon--play__triangle" d="M4 4l12 6-12 6z"/><path class="c-carousa11y__button-icon--play__crossline" d="M2 2L18 18" stroke="#eb0000"/><path class="c-carousa11y__button-icon--play__crossline" d="M18 2L2 18" stroke="#eb0000"/></svg>',e}},{key:"_createGoToSlideControls",value:function(t){var e=document.createElement("ol");e.classList.add("c-carousa11y__controls"),e.classList.add("c-carousa11y__controls--goto");for(var s=0;s<t;s++){var o=document.createElement("li");o.classList.add("c-carousa11y__controls-item"),o.classList.add("c-carousa11y__controls-item--go-to-slide");var n=document.createElement("button");n.classList.add("c-carousa11y__button"),n.classList.add("c-carousa11y__button--go-to-slide"),n.dataset.slideButton=s+1,n.innerHTML='<span class="u-display--screenreader-only">Go to slide '.concat(s+1,"</span>")+'<svg xlmns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="c-carousa11y__button-icon c-carousa11y__button-icon--go-to-slide"><circle cx="10" cy="10" r="2"></svg>',s===this._currentSlide&&n.setAttribute("aria-current","true"),o.appendChild(n),e.appendChild(o)}return e}},{key:"currentSlide",get:function(){return this._currentSlideIndex+1},set:function(t){throw new Error("currentSlide cannot be set directly. Use goToSlide(slideNumber) instead.")}},{key:"currentSlideIndex",get:function(){return this._currentSlideIndex}},{key:"nextSlideIndex",get:function(){return this.currentSlideIndex<this.carouselSlides.length-1?this.currentSlideIndex+1:0}},{key:"previousSlideIndex",get:function(){return 0===this.currentSlideIndex?this.carouselSlides.length-1:this.currentSlideIndex-1}},{key:"autoAdvanceTime",set:function(t){if("number"!=typeof t)throw new Error("autoAdvanceTime must be set to an number (milliseconds).");this._autoAdvanceTime=t},get:function(){return this._autoAdvanceTime}},{key:"transitionTime",set:function(t){if("number"!=typeof t)throw new Error("transitionTime must be set to an number (milliseconds).");this._transitionTime=t},get:function(){return this._transitionTime}}]),t}()},function(t,e,s){},,function(t,e){!function(){if("undefined"!=typeof window)try{var t=new window.CustomEvent("test",{cancelable:!0});if(t.preventDefault(),!0!==t.defaultPrevented)throw new Error("Could not prevent default")}catch(t){var e=function(t,e){var s,o;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(s=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),o=s.preventDefault,s.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},s};e.prototype=window.Event.prototype,window.CustomEvent=e}}()}]).default;
//# sourceMappingURL=carousa11y.min.js.map