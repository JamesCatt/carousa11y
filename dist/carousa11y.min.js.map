{"version":3,"sources":["webpack://Carousa11y/webpack/bootstrap","webpack://Carousa11y/./src/carousa11y.es6.js","webpack://Carousa11y/./node_modules/custom-event-polyfill/polyfill.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Carousa11y","carouselRoot","carouselSlides","_this","this","_ref","arguments","length","undefined","_ref$autoAdvanceTime","autoAdvanceTime","_ref$transitionTime","transitionTime","_ref$autoCreateContro","autoCreateControls","_classCallCheck","HTMLElement","Error","Array","forEach","slide","concat","index","_playing","_currentSlideIndex","_autoAdvanceTimer","currentSlideIndex","classList","add","nextSlideIndex","previousSlideIndex","announceElement","appendChild","_createAnnounceElement","prevNextButtons","_createPrevNextControls","querySelector","addEventListener","goToNextSlide","stop","goToPreviousSlide","playStopButton","_createPlayStopButton","togglePlay","_setPlayStopButtonState","slideButtons","_createGoToSlideControls","slice","document","getElementsByClassName","slideButton","e","goToSlide","currentTarget","dataset","_setCurrentControl","_autoAdvance","_goToSlide","slideNumber","setFocus","directionIsForwards","dispatchUpdateEvent","_setAnnounceMessage","clearInterval","_dispatchUpdateEvent","play","_this2","setInterval","message","innerHTML","updateDetails","playing","currentSlide","updateEvent","CustomEvent","detail","dispatchEvent","setAttribute","remove","slideIndex","_this3","oldPreviousSlide","oldNextSlide","oldCurrentSlide","newCurrentSlide","newNextSlide","newPreviousSlide","window","requestAnimationFrame","setTimeout","removeAttribute","focus","querySelectorAll","button","createElement","id","controlsElement","currentlyPlaying","state","className","slideCount","goToControlsElement","goToSlideItem","goToSlideButton","_currentSlide","duration","_autoAdvanceTime","_transitionTime","ce","cancelable","preventDefault","defaultPrevented","event","params","evt","origPrevent","bubbles","createEvent","initCustomEvent","Event"],"mappings":"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","file":"carousa11y.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * Carousa11y\n * Author: James Catt\n * License: ?\n */\n\nimport './carousa11y.scss';\nimport 'custom-event-polyfill';\n\nexport default class Carousa11y {\n    \n    /**\n     * @constructor\n     * @param {HTMLElement} carouselRoot - Root/wrapper HTML element for the carousel\n     * @param {Array.<HTMLElement>} carouselSlides - The slides for inclusion in the carousel\n     * @param {Object} options - Options container\n     * @param {Number} options.autoAdvanceTime - Number of milliseconds to wait between auto-advancing to next slide. Set 0 to disable auto-advance.\n     * @param {Number} options.transitionTime - Number of milliseconds to allow for CSS transitions between slides.\n     * @param {(boolean|Object)} options.autoCreateControls - Setting false suppresses creation of any controls. Object allows suppression of specific control elements\n     * @param {boolean} options.autoCreateControls.announceElement - Set false to suppress creation of an aria-live region for announcing the current slide.\n     * @param {boolean} options.autoCreateControls.prevNextButtons - Set false to suppress creation of 'previous slide' and 'next slide' controls.\n     * @param {boolean} options.autoCreateControls.playStopButton - Set false to suppress creation of a play/stop toggle button.\n     * @param {boolean} options.autoCreateControls.slideButtons - Set false to suppress creation of a list of buttons for selecting a specific slide.\n     */\n    constructor(\n\n        carouselRoot,\n        carouselSlides,\n        { // default options\n            autoAdvanceTime = 5000,\n            transitionTime = 300,\n            autoCreateControls = {},\n        } = {}\n\n    ) {\n\n        // validate carouselRoot\n        if (carouselRoot instanceof HTMLElement !== true) {\n            throw new Error('carouselRoot must be an HTMLElement.');\n        }\n\n        // validate carouselSlides\n        if (carouselSlides instanceof Array !== true || carouselSlides.length < 2) {\n            throw new Error('carouselSlides must be an array with at least 2 HTMLElements.');\n        }\n\n        carouselSlides.forEach(slide => {\n\n            if (slide instanceof HTMLElement !== true) {\n                throw new Error(`carouselSlides array must contain only HTMLElements. carouselSlides[${index}] failed this test.`);\n            }\n\n        });\n\n        // validation tests passed, proceed with instantiation\n        this.carouselRoot = carouselRoot;\n        this.carouselSlides = carouselSlides;\n        this.autoCreateControls = autoCreateControls;\n        this.autoAdvanceTime = autoAdvanceTime; // note that validity checking of autoAdvanceTime value will be handled by the autoAdvanceTime setter method\n        this.transitionTime = transitionTime; // note that validity checking of transitionTime value will be handled by the transitionTime setter method\n\n        // Private properties\n        this._playing = this.autoAdvanceTime !== 0;\n        this._currentSlideIndex = 0;\n        this._autoAdvanceTimer;\n\n        // Set appropriate starting CSS classes on slides\n        this.carouselSlides[this.currentSlideIndex].classList.add('s-carousa11y__slide--current');\n        this.carouselSlides[this.nextSlideIndex].classList.add('s-carousa11y__slide--next');\n        this.carouselSlides[this.previousSlideIndex].classList.add('s-carousa11y__slide--previous');\n\n        // insert default controls as appropriate\n        if (this.autoCreateControls.announceElement !== false) {\n            this.carouselRoot.appendChild(this._createAnnounceElement());\n        }\n\n        if (this.autoCreateControls.prevNextButtons !== false) {\n            this.carouselRoot.appendChild(this._createPrevNextControls());\n            this.carouselRoot.querySelector('#carousa11yNextButton').addEventListener('click', () => {\n                this.goToNextSlide();\n                this.stop(false);\n            });\n            this.carouselRoot.querySelector('#carousa11yPrevButton').addEventListener('click', () => {\n                this.goToPreviousSlide();\n                this.stop(false);\n            });\n        }\n\n        if (this.autoCreateControls.playStopButton !== false) {\n            this.carouselRoot.appendChild(this._createPlayStopButton(this._playing));\n            this.carouselRoot.querySelector('#carousa11yPlayStopButton').addEventListener('click', () => {this.togglePlay();});\n            this.carouselRoot.addEventListener('carousa11yUpdate', () => {\n                this._setPlayStopButtonState();\n            });\n        }\n\n        if (this.autoCreateControls.slideButtons !== false) {\n            this.carouselRoot.appendChild(this._createGoToSlideControls(this.carouselSlides.length));\n            const slideButtons = [].slice.call(document.getElementsByClassName('c-carousa11y__button--go-to-slide'));\n            slideButtons.forEach(slideButton => {\n                slideButton.addEventListener('click', e => {\n                    this.goToSlide(e.currentTarget.dataset.slideButton, true);\n                    this.stop(false);\n                });\n            });\n            this._setCurrentControl(this._currentSlideIndex);\n        }\n\n        // kick-off\n        if (this._playing) {\n            this._autoAdvance();\n        }\n\n    }\n\n    /**\n     * Go to the next slide\n     */\n    goToNextSlide() {\n        this._goToSlide(this.nextSlideIndex, false, true);\n    }\n\n    /**\n     * Go to the previous slide\n     */\n    goToPreviousSlide() {\n        this._goToSlide(this.previousSlideIndex, false, false);\n    }\n\n    /**\n     * Go to a specific slide\n     * @param {Number} slideNumber - Number of the slide to go to, not zero-indexed (i.e., first slide === 1).\n     */\n    goToSlide(slideNumber, setFocus, directionIsForwards) {\n        this._goToSlide(slideNumber - 1, setFocus, directionIsForwards);\n    }\n\n    /**\n     * Start auto-advance the carousel. If the autoAdvance timeout setting === 0, just move it forward once.\n     */\n    play() {\n\n        if (this.autoAdvanceTime !== 0) {\n\n            this._playing = true;\n            this._autoAdvance();\n\n        }\n\n        this.goToNextSlide();\n\n        // TODO: dispatch event\n\n    }\n\n    /**\n     * Stop auto-advancing the carousel\n     */\n    stop(dispatchUpdateEvent = true) {\n\n        if (this._playing) {\n            this._setAnnounceMessage('Playback stopped');\n        }\n\n        this._playing = false;\n        clearInterval(this._autoAdvanceTimer);\n        if (dispatchUpdateEvent) {\n            this._dispatchUpdateEvent();\n        }\n\n    }\n\n    /**\n     * Toggles current play state on or off\n     */\n    togglePlay() {\n\n        if (this._playing) {\n\n            this.stop();\n\n        } else {\n\n            this.play();\n\n        }\n        \n    }\n\n    /**\n     * Get the non-zero-indexed number of the currently-displayed slide\n     * @return {number} - non zero-indexed number of the currently-displayed slide\n     */\n    get currentSlide() {\n        return this._currentSlideIndex + 1;\n    }\n\n    /**\n     * Prevents setting of the current slide directly\n     */\n    set currentSlide(slideNumber) {\n        throw new Error('currentSlide cannot be set directly. Use goToSlide(slideNumber) instead.');\n    }\n\n    /**\n     * Get the zero-indexed number for the current slide\n     * @return {number}\n     */\n    get currentSlideIndex() {\n        return this._currentSlideIndex;\n    }\n\n    /**\n     * Get the zero-indexed number of the next slide from the current one\n     * @return {number}\n     */\n    get nextSlideIndex() {\n        \n        if (this.currentSlideIndex < this.carouselSlides.length - 1) {\n            return this.currentSlideIndex + 1;\n        } else {\n            return 0;\n        }\n\n    }\n\n    /**\n     * Get the zero-indexed number of the previous slide from the current one\n     * @return {number}\n     */\n    get previousSlideIndex() {\n        \n        if (this.currentSlideIndex === 0) {\n            return this.carouselSlides.length - 1;\n        } else {\n            return this.currentSlideIndex - 1;\n        }\n\n    }\n\n    /**\n     * Set the auto-advance timer\n     * @param {number} duration - number of milliseconds before auto-advancing to the next slide\n     */\n    set autoAdvanceTime(duration) {\n        if (typeof duration !== 'number') {\n            throw new Error('autoAdvanceTime must be set to an number (milliseconds).');\n        }\n        this._autoAdvanceTime = duration;\n    }\n\n    /**\n     * Get the current auto-advance timer\n     * @returns {number}\n     */\n    get autoAdvanceTime() {\n        return this._autoAdvanceTime;\n    }\n\n    /**\n     * @param {number} duration - number of milliseconds to allow for CSS transitions between slides\n     */\n    set transitionTime(duration) {\n        if (typeof duration !== 'number') {\n            throw new Error('transitionTime must be set to an number (milliseconds).');\n        }\n        this._transitionTime = duration;        \n    }\n\n    /**\n     * Get the current slide transition time\n     * @returns {number}\n     */\n    get transitionTime() {\n        return this._transitionTime;\n    }\n\n    // Private methods\n    /**\n     * \n     */\n    _autoAdvance() {\n\n        if (this.autoAdvanceTime <= 0) {\n            throw new Error('_autoAdvance was called with timeout <= 0');\n        }\n\n        this._playing = true;\n        clearInterval(this._autoAdvanceTimer);\n        this._autoAdvanceTimer = setInterval(() => {this.goToNextSlide();}, this.autoAdvanceTime);\n\n    }\n\n    /**\n     * Function to update the announce element for screen readers.\n     * @param {string} message - Message to be inserted into the announce element \n     */\n    _setAnnounceMessage(message) {\n\n        if (typeof message !== 'string') {\n            throw new Error('_announceMessage must be called with a string.');\n        }\n\n        if (this.autoCreateControls.announceElement !== false) {\n            this.carouselRoot.querySelector('#carousa11yAnnounceElement').innerHTML = message;\n        }\n\n    }\n\n    /**\n     * Dispatches a custom event with the current state\n     */\n    _dispatchUpdateEvent() {\n\n        const updateDetails = {\n            playing: this._playing,\n            currentSlide: this.currentSlide,\n            currentSlideIndex: this.currentSlideIndex,\n        }\n\n        const updateEvent = new CustomEvent(\"carousa11yUpdate\", {detail: updateDetails});\n\n        this.carouselRoot.dispatchEvent(updateEvent);\n\n    }\n\n    _setPlayStopButtonState() {\n\n        if (this.autoCreateControls.playStopButton === false) {\n            return;\n        }\n\n        let playStopButton = this.carouselRoot.querySelector('#carousa11yPlayStopButton');\n\n        if (this._playing) {\n\n            playStopButton.setAttribute('aria-pressed', 'true');\n            playStopButton.classList.remove('s-carousa11y__button--stopped');\n            playStopButton.classList.add('s-carousa11y__button--playing');\n\n        } else {\n\n            playStopButton.setAttribute('aria-pressed', 'false');\n            playStopButton.classList.remove('s-carousa11y__button--playing');\n            playStopButton.classList.add('s-carousa11y__button--stopped');\n\n        }\n\n    }\n\n    /**\n     * \n     * @param {number} slideIndex - The zero-indexed number for the slide to advance to\n     * @param {boolean} directionIsForwards - true if the carousel should behave as advancing in a forwards (i.e., rightward) direction, default is based on comparing the indices of the new slide and existing current slide\n     */\n    _goToSlide(slideIndex, setFocus = false, directionIsForwards = slideIndex > this.currentSlideIndex) {\n        \n        if (slideIndex >= this.carouselSlides.length || slideIndex < 0) {\n            throw new Error(`invalid slide index: ${slideIndex}`);\n        }\n\n        if (slideIndex === this.currentSlideIndex) {\n            return;\n        }\n\n        // set these before updating _currentSlideIndex\n        const oldPreviousSlide = this.carouselSlides[this.previousSlideIndex];\n        const oldNextSlide = this.carouselSlides[this.nextSlideIndex];\n        const oldCurrentSlide = this.carouselSlides[this._currentSlideIndex]\n\n        this._currentSlideIndex = slideIndex;\n\n        const newCurrentSlide = this.carouselSlides[slideIndex];\n        const newNextSlide = this.carouselSlides[this.nextSlideIndex];\n        const newPreviousSlide = this.carouselSlides[this.previousSlideIndex];\n\n        newCurrentSlide.classList.add('u-transitionduration--0');\n\n        if (directionIsForwards) {\n\n            newCurrentSlide.classList.add('s-carousa11y__slide--next');\n            newCurrentSlide.classList.remove('s-carousa11y__slide--previous');\n\n        } else {\n\n            newCurrentSlide.classList.add('s-carousa11y__slide--previous');\n            newCurrentSlide.classList.remove('s-carousa11y__slide--next');\n\n        }\n\n        // double-wrap a rAF call to ensure the browser updates the DOM with CSS classes and re-renders *before* executing the rest of the function\n        window.requestAnimationFrame(() => {\n\n            window.requestAnimationFrame(() => {\n            \n                newCurrentSlide.classList.remove('u-transitionduration--0');\n                \n                newCurrentSlide.classList.add('s-carousa11y__slide--current');\n                oldCurrentSlide.classList.remove('s-carousa11y__slide--current');\n                \n                setTimeout(() => {\n                    this._setCurrentControl(slideIndex);\n                    oldCurrentSlide.setAttribute('aria-hidden', 'true');\n                    newCurrentSlide.removeAttribute('aria-hidden');\n\n                    this._dispatchUpdateEvent();\n                    this._setAnnounceMessage(`Slide ${this.currentSlide} of ${this.carouselSlides.length}`);\n\n                    newCurrentSlide.classList.remove('s-carousa11y__slide--next');\n                    newCurrentSlide.classList.remove('s-carousa11y__slide--previous');\n                    oldPreviousSlide.classList.remove('s-carousa11y__slide--previous');\n                    newPreviousSlide.classList.add('s-carousa11y__slide--previous');\n                    oldNextSlide.classList.remove('s-carousa11y__slide--next');\n                    newNextSlide.classList.add('s-carousa11y__slide--next');\n     \n                    if (setFocus) {\n                        newCurrentSlide.setAttribute('tabindex', '-1');\n                        newCurrentSlide.focus();\n                    }\n\n                }, this.transitionTime);\n\n            });\n\n        });\n\n    }\n\n    /**\n     * Sets aria-current on the appropriate 'go to' button, if applicable\n     * @param {number} slideIndex - index of the 'go to' button that should be set to current\n     */\n    _setCurrentControl(slideIndex) {\n\n        [].slice.call(this.carouselRoot.querySelectorAll(`button[data-slide-button]`)).forEach((button, index) => {\n\n            if (index === slideIndex) {\n                button.setAttribute('aria-current', 'true');\n                button.classList.add('s-carousa11y__button--current');\n            } else {\n                button.removeAttribute('aria-current');\n                button.classList.remove('s-carousa11y__button--current');\n            }\n\n        });\n        \n    }\n\n    // Control creation methods\n\n    /**\n     * @return {HTMLDivElement} - Returns a <div> with the appropriate attributes for the aria-live slide announcement element, for insertion into the DOM.\n     */\n    _createAnnounceElement() {\n    let announceElement = document.createElement('div');\n        announceElement.id = 'carousa11yAnnounceElement';\n        announceElement.setAttribute('aria-live', 'polite');\n        announceElement.setAttribute('aria-atomic', 'true');\n        announceElement.classList.add('c-carousa11y__announce')\n        announceElement.classList.add('u-display--screenreader-only');\n\n        return announceElement;\n    }\n\n    /**\n     * @return {HTMLUListElement} - Returns a <ul> with nested previous/next slide buttons, for insertion into the DOM.\n     */\n    _createPrevNextControls() {\n\n        let controlsElement = document.createElement('ul');\n        controlsElement.classList.add('c-carousa11y__controls')\n        controlsElement.classList.add('c-carousa11y__controls--prev-next');\n\n        controlsElement.innerHTML = \n\n            \"<li class='c-carousa11y__controls-item c-carousa11y__controls-item--prev'>\" +\n\n                \"<button id='carousa11yPrevButton' class='c-carousa11y__button c-carousa11y__button--prev'>\" +\n\n                    \"<span class='u-display--screenreader-only'>Go to previous slide</span>\" +\n\n                    \"<!-- Zondicons by Steve Schroger (modified) - http://www.zondicons.com/ -->\" +\n                    \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' class='c-carousa11y__button-icon' aria-hidden='true' role='presentation'><path d='M7.05 9.293L6.343 10 12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z'/></svg>\" +\n\n                \"</button>\" +\n\n            \"</li>\" +\n\n            \"<li class='c-carousa11y__controls-item c-carousa11y__controls-item--next'>\" +\n\n                \"<button id='carousa11yNextButton' class='c-carousa11y__button c-carousa11y__button--next'>\" +\n\n                    \"<span class='u-display--screenreader-only'>Go to next slide</span>\" +\n\n                    \"<!-- Zondicons by Steve Schroger (modified) - http://www.zondicons.com/ -->\" +\n                    \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' class='c-carousa11y__button-icon' aria-hidden='true' role='presentation'><path d='M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z'/></svg>\" +\n\n                \"</button>\" +\n\n            \"</li>\";\n\n        return controlsElement;\n    }\n\n    /**\n     * @param {boolean} currentlyPlaying - If true, the returned button will be toggled to play mode on.\n     * @return {HTMLButtonElement} - Returns a <button> to serve as a play/stop toggle for insertion into the DOM.\n     */\n    _createPlayStopButton(currentlyPlaying) {\n\n        let playStopButton = document.createElement('button');\n        playStopButton.setAttribute('id', 'carousa11yPlayStopButton');\n        playStopButton.setAttribute('aria-label', 'Play');\n        playStopButton.setAttribute('aria-pressed', currentlyPlaying ? 'true' : 'false');\n        playStopButton.dataset.state = currentlyPlaying === true ? 'playing' : 'stopped';\n        playStopButton.className = `c-carousa11y__button c-carousa11y__button--play-stop ${currentlyPlaying ? 's-carousa11y__button--playing' : 's-carousa11y__button--stopped'}`;\n        playStopButton.innerHTML = \n\n            '<!-- Zondicons by Steve Shroger (modified) - http://www.zondicons.com/ -->' +\n            '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-5 -5 30 30\" class=\"c-carousa11y__button-icon c-carousa11y__button-icon--play\" aria-hidden=\"true\" role=\"presentation\"><path class=\"c-carousa11y__button-icon--play__triangle\" d=\"M4 4l12 6-12 6z\"/><path class=\"c-carousa11y__button-icon--play__crossline\" d=\"M2 2L18 18\" stroke=\"#eb0000\"/><path class=\"c-carousa11y__button-icon--play__crossline\" d=\"M18 2L2 18\" stroke=\"#eb0000\"/></svg>';\n\n        return playStopButton;\n\n    }\n\n    /**\n     * @param {number} slideCount - Number of slides in the carousel.\n     * @return {HTMLOListElement} - Returns an <ol> with nested buttons to advance to a particular slide for insertion into the DOM.\n     */\n    _createGoToSlideControls(slideCount) {\n\n        let goToControlsElement = document.createElement('ol');\n        goToControlsElement.classList.add('c-carousa11y__controls')\n        goToControlsElement.classList.add('c-carousa11y__controls--goto');\n\n        for (let i = 0; i < slideCount; i++) {\n\n            let goToSlideItem = document.createElement('li');\n            goToSlideItem.classList.add('c-carousa11y__controls-item')\n            goToSlideItem.classList.add('c-carousa11y__controls-item--go-to-slide');\n\n            let goToSlideButton = document.createElement('button');\n            goToSlideButton.classList.add('c-carousa11y__button')\n            goToSlideButton.classList.add('c-carousa11y__button--go-to-slide');\n            goToSlideButton.dataset.slideButton = i + 1;\n            goToSlideButton.innerHTML = \n            \n                `<span class=\"u-display--screenreader-only\">Go to slide ${i + 1}</span>` +\n                '<svg xlmns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" class=\"c-carousa11y__button-icon c-carousa11y__button-icon--go-to-slide\"><circle cx=\"10\" cy=\"10\" r=\"2\"></svg>';\n\n            if (i === this._currentSlide) {\n                goToSlideButton.setAttribute('aria-current', 'true');\n            }\n\n            goToSlideItem.appendChild(goToSlideButton);\n            goToControlsElement.appendChild(goToSlideItem);\n\n        }\n\n        return goToControlsElement;\n\n    }\n\n}","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n"],"sourceRoot":""}